<link rel="import" href="{$components_url}bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="{$components_url}bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="{$components_url}bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="{$components_url}bower_components/iron-icons/iron-icons.html">
<link rel="import" href="{$components_url}bower_components/paper-scroll-header-panel/paper-scroll-header-panel.html">
<link rel="import" href="{$components_url}bower_components/paper-fab/paper-fab.html">
<link rel="import" href="{$components_url}bower_components/paper-fab-transitions/paper-fab-speed-dial.html">
<link rel="import" href="{$components_url}bower_components/paper-menu/paper-menu.html">
<link rel="import" href="{$components_url}bower_components/paper-item/paper-item.html">

<link rel="import" href="{$components_url}controllets/paper-card-controllet/paper-card-controllet.html"/>
<link rel="import" href="{$components_url}controllets/search-panel-controllet/search-panel-controllet.html"/>
<link rel="import" href="{$components_url}controllets/animated-grid-controllet/animated-grid-controllet.html"/>
<link rel="import" href="{$components_url}controllets/fullsize-page-with-card-controllet/fullsize-page-with-card-controllet.html">

<link rel="import" href="{$components_url}bower_components/paper-card/paper-card.html">
<link rel="import" href="{$components_url}bower_components/paper-button/paper-button.html">
<link rel="import" href="{$components_url}bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="{$components_url}bower_components/paper-styles/color.html">


<link rel="import" href="{$components_url}bower_components/neon-animation/neon-animated-pages.html">
<link rel="import" href="{$components_url}bower_components/paper-styles/paper-styles.html">
<link rel="import" href="{$components_url}bower_components/neon-animation/neon-animations.html">


{literal}
<style is="custom-style">

    paper-toolbar.toolbar-main
    {
        --paper-toolbar-background:#2196F3;
        -moz-box-shadow: 0 0 20px 5px #999;
        -webkit-box-shadow: 0 0 20px 5px #999;
    }

    paper-fab
    {
        position: absolute;
        bottom: 25px;
        right: 50px;
        --paper-fab-background:#2196F3;
    }

</style>

<script type="text/javascript">

    $(document).ready(function () {

       var scope = document.querySelector('template[is="dom-bind"]');

        scope._onTileClick = function(event) {
            this.$['fullsize-card'].color = event.detail.data.color;
            this.$.pages.selected = 1;
        };

        scope._onFullsizeClick = function(event) {
            this.$.pages.selected = 0;
        };

    });

</script>
{/literal}

<paper-drawer-panel force-narrow>

    <div drawer>

        <paper-toolbar class="toolbar-drawer">
            <div class="title">Options</div>
        </paper-toolbar>

        <paper-menu selected="0">
            <!--<paper-item>Item 1</paper-item>
                <paper-item>Item 2</paper-item>-->
        </paper-menu>

    </div>

    <div main class="fullbleed layout vertical">

        <paper-toolbar class="toolbar-main">
            <paper-icon-button paper-drawer-toggle icon="menu" on-tap="menuAction"></paper-icon-button>
            <div class="title">Public Room</div>
            <search-panel-controllet right-direction="true"></search-panel-controllet>
            <!--<paper-icon-button icon="more-vert" on-tap="moreAction"></paper-icon-button>-->
        </paper-toolbar>

        <paper-scroll-header-panel class="flex" fixed>

            <template is="dom-bind">
                <neon-animated-pages id="pages" selected="0" style="height: 100vh; width: 100vw;">

                    <animated-grid-controllet on-tile-click="_onTileClick"></animated-grid-controllet>

                    <fullsize-page-with-card id="fullsize-card" hero-id="hero" on-click="_onFullsizeClick">
                    </fullsize-page-with-card>

                </neon-animated-pages>
            </template>

        </paper-scroll-header-panel>

        {literal}
            <paper-fab icon="add" onclick=""></paper-fab>
        {/literal}

    </div>

</paper-drawer-panel>